# Handoff Packets: Codex Cloud Integration

**Date:** 2026-01-15
**Created By:** CC (Claude Code)
**For:** CC to execute after Leo approves Change Plan

---

## How to Use These Packets

1. Leo reviews and approves the Change Plan
2. Leo says "PROCEED" or equivalent
3. CC (forge-maintainer mode) executes packets in order: A → B → C → D
4. After each packet, CC reports completion
5. Leo verifies before moving to next packet

---

# PACKET-A: forge-project-template Updates

```yaml
---
packet_id: PACKET-A
created_by: CC
created_date: 2026-01-15
target_executor: CC (forge-maintainer)
scope_lock:
  recon_only: false
  no_code_changes: true
  docs_only: true
---
```

## Objective

Update forge-project-template to include Codex-compatible infrastructure and remove CP references.

## Read Paths

- `~/kv-projects/forge-project-template/CLAUDE.md`
- `~/kv-projects/forge-project-template/ai_prompts/templates/`
- `~/kv-projects/forge-project-template/docs/parking-lot/README.md` (reference for style)

## Write Paths

- `~/kv-projects/forge-project-template/docs/recons/README.md` (CREATE)
- `~/kv-projects/forge-project-template/ai_prompts/templates/codex-recon-packet.template.md` (CREATE)
- `~/kv-projects/forge-project-template/CLAUDE.md` (UPDATE lines 67-74)

## Steps

### Step 1: Create docs/recons/ directory and README

```bash
mkdir -p ~/kv-projects/forge-project-template/docs/recons
```

Create `docs/recons/README.md` with this content:

```markdown
# Recon Reports

**Investigation findings and analysis from Codex Cloud or other recon work.**

---

## Purpose

Recon reports document findings from codebase investigation, typically produced by:
- **Codex Cloud** (remote recon via ChatGPT)
- **CC** (local investigation)
- **project-architect** (planning research)

---

## File Naming

```
YYYY-MM-DD-<topic>.md
```

Example: `2026-01-15-auth-flow-analysis.md`

---

## Governance

- **Authored by:** Codex Cloud, CC, or project-architect
- **Reviewed by:** Human Lead (Leo)
- **Executed by:** CC (if recon produces action items)

---

## Recon Report Structure

```markdown
# Recon Report: [Topic]

**Date:** YYYY-MM-DD
**Author:** [Codex Cloud | CC | project-architect]
**Status:** [Complete | In Progress]

## Purpose
## Findings
## Recommendations
## Next Steps
```

---

*This is part of The FORGE Method(TM) — theforgemethod.org*
```

### Step 2: Create Codex handoff packet template

Create `ai_prompts/templates/codex-recon-packet.template.md`:

```markdown
---
packet_id: PACKET-{ID}
created_by: Codex Cloud
created_date: {YYYY-MM-DD}
target_executor: CC | Cursor | forge-maintainer
scope_lock:
  recon_only: true
  no_code_changes: true
  docs_only: true
---

# {Title}

## Environment Fingerprint

```
ENVIRONMENT: Codex Cloud (ChatGPT)
WRITE_PERMISSION: RECON_ONLY
REPO: {repo-name}
DATE: {YYYY-MM-DD - verified}
```

---

## Objective

{One sentence: what this packet accomplishes when executed}

---

## Read Paths

- `{path/to/file1}`
- `{path/to/file2}`

---

## Write Paths

- `{path/to/create/or/update}` — {purpose}

---

## Steps

1. {Step 1}
2. {Step 2}
3. {Step 3}

---

## Definition of Done

- [ ] {Criterion 1}
- [ ] {Criterion 2}
- [ ] {Criterion 3}

---

## Verification

- [ ] {Verification step 1}
- [ ] {Verification step 2}

---

## Notes for Executor

{Any context, warnings, or special instructions}

---

*Generated by Codex Cloud — FORGE Method*
```

### Step 3: Update CLAUDE.md Agent Lanes

In `CLAUDE.md`, find the Agent Lanes table (around lines 67-74) and update:

**FROM:**
```markdown
| **Spec Author** | CP (Claude Project) | Constitutional docs, specs | Does NOT create PRs |
```

**TO:**
```markdown
| **Architect** | project-architect (local) | Constitutional docs, planning | Does NOT implement code |
| **Recon Agent** | Codex Cloud (optional) | Remote recon, handoff packets | Does NOT modify code |
```

## Definition of Done

- [ ] `docs/recons/README.md` exists with complete content
- [ ] `ai_prompts/templates/codex-recon-packet.template.md` exists with scope_lock block
- [ ] `CLAUDE.md` Agent Lanes table shows project-architect (not CP)
- [ ] `CLAUDE.md` Agent Lanes table includes Codex Cloud role
- [ ] No "CP (Claude Project)" references remain in CLAUDE.md

## Verification

- [ ] `cat ~/kv-projects/forge-project-template/docs/recons/README.md` shows content
- [ ] `grep "scope_lock" ~/kv-projects/forge-project-template/ai_prompts/templates/codex-recon-packet.template.md` returns match
- [ ] `grep -i "claude project" ~/kv-projects/forge-project-template/CLAUDE.md` returns empty

---

# PACKET-B: FORGE-Method Updates

```yaml
---
packet_id: PACKET-B
created_by: CC
created_date: 2026-01-15
target_executor: CC (forge-maintainer)
scope_lock:
  recon_only: false
  no_code_changes: true
  docs_only: true
---
```

## Objective

Add Codex Cloud operating guide and update agent role definitions in FORGE-Method canon.

## Read Paths

- `~/kv-projects/FORGE-Method/agents/forge-agent-roles-handoffs.md`
- `~/kv-projects/FORGE-Method/core/forge-core.md` (reference for style)
- `~/kv-projects/FORGE-Method/docs/agents/README.md`

## Write Paths

- `~/kv-projects/FORGE-Method/agents/codex-cloud-operating-guide.md` (CREATE)
- `~/kv-projects/FORGE-Method/agents/forge-agent-roles-handoffs.md` (UPDATE)

## Steps

### Step 1: Create Codex Cloud Operating Guide

Create `agents/codex-cloud-operating-guide.md`:

```markdown
# Codex Cloud Operating Guide

**Role Definition for Remote Recon Agent**

**Version:** 1.0
**Status:** Canonical Reference
**For:** Jordan's Knowledge Base + CC Reference

---

## What Codex Cloud Is

**Codex Cloud** is OpenAI's Codex running inside ChatGPT. It serves as a **remote reconnaissance agent** for FORGE projects when the Human Lead (Leo) is away from the primary development workstation (iMac Pro).

**Use cases:**
- Leo is mobile (iPhone, iPad)
- Leo is away from home (boat, travel, woods)
- Jordan and Leo want to do research before returning to dev station
- Quick codebase analysis without spinning up CC

---

## Role Definition

| Attribute | Value |
|-----------|-------|
| **Role Name** | Recon Agent |
| **Platform** | ChatGPT (OpenAI Codex) |
| **Access** | iOS app, Web browser |
| **Primary Function** | Codebase analysis, handoff packet creation |
| **Authority** | Read-only by default |

---

## Capabilities Matrix

| Capability | Allowed | Notes |
|------------|---------|-------|
| Read GitHub repo contents | ✅ | Core purpose |
| Analyze code structure | ✅ | Core purpose |
| Analyze documentation | ✅ | Core purpose |
| Produce recon reports | ✅ | Output to `docs/recons/` |
| Create handoff packets | ✅ | Output to `ai_prompts/active/` |
| Commit docs to staging | ⚠️ Opt-in | Requires explicit authorization |
| Modify source code | ❌ NEVER | Hard constraint |
| Modify constitutional docs | ❌ NEVER | Hard constraint |
| Create pull requests | ❌ NEVER | CC only |
| Run builds/tests | ❌ N/A | No execution environment |
| Make architectural decisions | ❌ NEVER | project-architect or Leo only |

---

## Environment Fingerprint (Required)

Every Codex session must output this header at start:

```
---
ENVIRONMENT: Codex Cloud (ChatGPT)
WRITE_PERMISSION: RECON_ONLY
REPO: [repo-name]
DATE: [YYYY-MM-DD - verified from system]
---
```

This creates an audit trail and prevents confusion about session capabilities.

---

## Output Locations

| Artifact Type | Location | Example |
|---------------|----------|---------|
| Recon Report | `docs/recons/` | `2026-01-15-auth-analysis.md` |
| Handoff Packet | `ai_prompts/active/` | `PACKET-A-feature-x.md` |
| Archived Packet | `ai_prompts/completed/` | After CC executes |

---

## Handoff Packet Schema

All Codex handoff packets must include:

```yaml
---
packet_id: PACKET-{ID}
created_by: Codex Cloud
created_date: YYYY-MM-DD
target_executor: CC | Cursor | forge-maintainer
scope_lock:
  recon_only: true
  no_code_changes: true
  docs_only: true
---
```

**Required sections:**
- Objective (one sentence)
- Read Paths (what Codex analyzed)
- Write Paths (what executor should modify)
- Steps (numbered, specific)
- Definition of Done (checkboxes)
- Verification (how to confirm completion)

---

## No-Write Rule + Escalation

### The Rule

Codex must NOT directly modify:
- Any code file (`.ts`, `.tsx`, `.js`, `.py`, `.swift`, etc.)
- Any constitutional document (`docs/constitution/*`)
- Any agent definition (`.claude/agents/*`)
- Any cursor rules (`.cursor/rules/*`)

### Escalation Protocol

When Codex discovers something requiring writes:

1. **Document the finding** in the recon report
2. **Create a handoff packet** (do not execute)
3. **Tag the packet** with `REQUIRES: CC` or `REQUIRES: forge-maintainer`
4. **Commit packet to staging** (if authorized) or output in conversation
5. **Wait** — CC executes when Leo returns to iMac Pro

---

## Workflow Integration

```
┌─────────────────────────────────────────────────────────────┐
│  REMOTE (iPhone / Web)                                       │
│                                                              │
│  Leo + Jordan → discuss → Jordan frames ask                 │
│                                  │                           │
│                                  ▼                           │
│                           Codex Cloud                        │
│                         (recon + packet)                     │
│                                  │                           │
│                                  ▼                           │
│                    Commits packet to GitHub                  │
│                    (staging location only)                   │
└──────────────────────────┬──────────────────────────────────┘
                           │
                           │ git pull
                           ▼
┌─────────────────────────────────────────────────────────────┐
│  iMAC PRO (Home Base)                                        │
│                                                              │
│  Leo + CC → review packet → validate findings               │
│                                  │                           │
│                                  ▼                           │
│                    forge-maintainer / CC                     │
│                         (execution)                          │
└─────────────────────────────────────────────────────────────┘
```

---

## When to Use Codex vs Other Agents

| Situation | Use |
|-----------|-----|
| Need quick codebase analysis, away from iMac | Codex Cloud |
| Planning sprint, need build plan | project-architect |
| Executing task brief, writing code | CC + Cursor |
| Updating FORGE infrastructure | forge-maintainer |
| Creating new FORGE project | forge-architect |

---

## Date Safety Rule

Codex must verify the current date before writing any dated artifacts. This aligns with the global DATE SAFETY RULE:

- Use ISO format: YYYY-MM-DD
- Verify date from system, not inference
- If date cannot be verified, state "DATE UNVERIFIED" and request confirmation

---

## Authority Clause

Codex Cloud may NOT:
- Override Human Lead (Leo) decisions
- Modify FORGE canon
- Change agent role definitions
- Bypass the handoff packet workflow

Codex is a **read-only scout** that produces **written briefs** for the home team to execute.

---

*Codex Cloud Operating Guide — FORGE Method*
*theforgemethod.org*
```

### Step 2: Update forge-agent-roles-handoffs.md

In `agents/forge-agent-roles-handoffs.md`, make these changes:

**Line 19 — Change:**
```markdown
| **Specification Author** | CP (Claude Project) | Refine | Constitutional documents |
```
**To:**
```markdown
| **Architect** | project-architect (local) | Refine | Constitutional documents, planning |
```

**After line 24 (Supporting Role section) — Add:**
```markdown
**Remote Support Role:**
- **Codex Cloud** — Remote recon agent for mobile/web analysis (produces handoff packets, never modifies code)
```

**In Communication Topology section — Add note after diagram:**
```markdown
**Remote Extension:**
- Codex Cloud can perform recon and produce handoff packets remotely
- Packets flow through GitHub → CC for execution
- Codex never communicates directly with Cursor
```

## Definition of Done

- [ ] `agents/codex-cloud-operating-guide.md` exists with complete content
- [ ] `agents/forge-agent-roles-handoffs.md` references project-architect (not CP)
- [ ] Codex Cloud mentioned in Supporting Role section
- [ ] Communication topology includes Codex note

## Verification

- [ ] `grep -i "claude project" ~/kv-projects/FORGE-Method/agents/forge-agent-roles-handoffs.md` returns empty
- [ ] `grep "project-architect" ~/kv-projects/FORGE-Method/agents/forge-agent-roles-handoffs.md` returns match
- [ ] `ls ~/kv-projects/FORGE-Method/agents/codex-cloud-operating-guide.md` exists

---

# PACKET-C: forge-genesis-vault Updates (Jordan Knowledge Refresh)

```yaml
---
packet_id: PACKET-C
created_by: CC
created_date: 2026-01-15
target_executor: CC (forge-maintainer)
scope_lock:
  recon_only: false
  no_code_changes: true
  docs_only: true
---
```

## Objective

Update Jordan's knowledge base to reflect Codex Cloud role and CP → project-architect transition.

## Read Paths

- `~/kv-projects/forge-genesis-vault/05_project-genesis/genesis-custom-instructions.md`
- `~/kv-projects/forge-genesis-vault/02_spawn_system/spawn-specs/spawn-cp.md`
- `~/kv-projects/forge-genesis-vault/00_index/vault-map.md`

## Write Paths

- `~/kv-projects/forge-genesis-vault/02_spawn_system/spawn-specs/spawn-codex.md` (CREATE)
- `~/kv-projects/forge-genesis-vault/05_project-genesis/genesis-custom-instructions.md` (UPDATE)
- `~/kv-projects/forge-genesis-vault/02_spawn_system/spawn-specs/spawn-cp.md` (UPDATE - deprecate)
- `~/kv-projects/forge-genesis-vault/00_index/vault-map.md` (UPDATE)

## Steps

### Step 1: Create spawn-codex.md

Create `02_spawn_system/spawn-specs/spawn-codex.md`:

```markdown
# Spawn Codex Cloud

**How to Invoke Codex for Remote Recon Work**

---

## What Codex Cloud Is

Codex Cloud is OpenAI's Codex running inside ChatGPT. Jordan uses it for remote reconnaissance when Leo is away from the iMac Pro.

**Platform:** ChatGPT (iOS app or web browser)
**Role:** Remote Recon Agent
**Authority:** Read-only (produces handoff packets, never modifies code)

---

## When to Use Codex

| Situation | Use Codex? |
|-----------|------------|
| Leo is mobile, wants codebase analysis | ✅ Yes |
| Quick research on repo structure | ✅ Yes |
| Need to plan work before returning to iMac | ✅ Yes |
| Need to modify code | ❌ No — wait for CC |
| Need to run tests or builds | ❌ No — no execution env |
| Need architectural decisions | ❌ No — use project-architect |

---

## How Jordan Invokes Codex

**Trigger phrases:**
- "Ask Codex to analyze..."
- "Have Codex do recon on..."
- "Get Codex to research..."

**Jordan provides Codex:**
1. Repo name / GitHub URL
2. Specific question or analysis request
3. Output location (docs/recons/ or ai_prompts/active/)
4. Any constraints or focus areas

---

## Codex Session Start

Every Codex session must output this environment fingerprint:

```
---
ENVIRONMENT: Codex Cloud (ChatGPT)
WRITE_PERMISSION: RECON_ONLY
REPO: [repo-name]
DATE: [YYYY-MM-DD - verified]
---
```

---

## Codex Output Types

### 1. Recon Report

For analysis and findings. Output to `docs/recons/YYYY-MM-DD-<topic>.md`.

```markdown
# Recon Report: [Topic]

**Date:** YYYY-MM-DD
**Author:** Codex Cloud
**Status:** Complete

## Purpose
## Findings
## Recommendations
## Next Steps
```

### 2. Handoff Packet

For work that CC should execute. Output to `ai_prompts/active/PACKET-<id>-<topic>.md`.

Must include:
- `scope_lock` block (recon_only: true, no_code_changes: true)
- Clear steps for CC
- Definition of Done
- Verification steps

---

## What Codex Cannot Do

| Forbidden | Why |
|-----------|-----|
| Modify source code | No execution environment; maintains audit trail |
| Create PRs | CC handles all PRs |
| Make architectural decisions | project-architect or Leo only |
| Modify constitutional docs | Requires CP → Leo approval chain |
| Run builds/tests | No execution environment |

---

## Handoff Flow

```
Jordan asks Codex → Codex produces packet →
Commit to GitHub → Leo pulls on iMac →
CC executes packet → Work complete
```

---

## Example Invocation

**Jordan:** "Ask Codex to analyze the auth flow in Vantage and identify any security gaps."

**Codex outputs:**
1. Environment fingerprint
2. Recon report with findings
3. Handoff packet if changes needed (tagged REQUIRES: CC)

---

*Spawn Codex — FORGE Genesis Vault*
```

### Step 2: Update genesis-custom-instructions.md

Find the agent table in `genesis-custom-instructions.md` and add Codex:

**Add after line 57 (in domain table):**
```
Codex Cloud | Remote recon agent (ChatGPT) | Recon reports, handoff packets
```

**Add new section after Spawn Types (around line 97):**
```markdown
### Codex Recon Spawn

**Trigger:** "Ask Codex to..." or "Have Codex research..."

**Jordan provides:**
1. Repo / GitHub URL
2. Analysis question
3. Output location preference

**Codex produces:**
- Environment fingerprint (always)
- Recon report (for analysis)
- Handoff packet (if changes needed)

**Constraint:** Codex cannot modify code. All changes flow through CC.
```

### Step 3: Deprecate spawn-cp.md

Add deprecation notice at top of `spawn-cp.md`:

```markdown
> ⚠️ **DEPRECATED** — Cloud CP has been replaced by local `project-architect` agents.
>
> For new projects:
> - Use `forge-architect` to scaffold repos with project-architect agent
> - See `FORGE-Method/templates/agents/project-architect.template.md`
>
> This document preserved for historical reference only.

---

[rest of original content]
```

### Step 4: Update vault-map.md

Add entry for spawn-codex.md in the spawn-specs section.

## Definition of Done

- [ ] `spawn-codex.md` exists with complete content
- [ ] `genesis-custom-instructions.md` includes Codex role
- [ ] `spawn-cp.md` has deprecation notice
- [ ] `vault-map.md` references spawn-codex.md

## Verification

- [ ] Jordan can describe Codex role when asked
- [ ] `grep -i "codex" ~/kv-projects/forge-genesis-vault/05_project-genesis/genesis-custom-instructions.md` returns match
- [ ] `head -10 ~/kv-projects/forge-genesis-vault/02_spawn_system/spawn-specs/spawn-cp.md` shows deprecation

---

# PACKET-D: Vantage Governance Refresh

```yaml
---
packet_id: PACKET-D
created_by: CC
created_date: 2026-01-15
target_executor: CC (forge-maintainer)
scope_lock:
  recon_only: false
  no_code_changes: true
  docs_only: true
---
```

## Objective

Update Vantage governance docs to reflect local project-architect and remove CP references.

## Read Paths

- `~/kv-projects/vantage/CLAUDE.md`
- `~/kv-projects/vantage/AGENTS.md`
- `~/kv-projects/vantage/.claude/agents/project-architect.md`

## Write Paths

- `~/kv-projects/vantage/docs/recons/README.md` (CREATE)
- `~/kv-projects/vantage/CLAUDE.md` (UPDATE lines 55-60)
- `~/kv-projects/vantage/AGENTS.md` (UPDATE lines 14-20, 32-35)

## Steps

### Step 1: Create docs/recons/ directory and README

```bash
mkdir -p ~/kv-projects/vantage/docs/recons
```

Create `docs/recons/README.md` with same content as PACKET-A, but add Vantage-specific header:

```markdown
# Recon Reports — Vantage DD

**Investigation findings and analysis for Vantage DD project.**

[rest of content same as forge-project-template version]
```

### Step 2: Update CLAUDE.md Team Structure

In `CLAUDE.md`, find the Team Structure table (lines 55-60):

**FROM:**
```markdown
| **CP** | Specs (Claude.ai) | Writes specs, produces prompts |
```

**TO:**
```markdown
| **project-architect** | Local governance | Planning, scope enforcement (`.claude/agents/`) |
| **Codex Cloud** | Remote recon (optional) | Analysis when away from iMac |
```

### Step 3: Update AGENTS.md

In `AGENTS.md`, update the agent table (lines 14-20):

**FROM:**
```markdown
| **CP** | Claude (Project) | Constitution & Specification Author. Produces authoritative specs. |
```

**TO:**
```markdown
| **project-architect** | Local (.claude/agents/) | Project Governance. Planning, scope enforcement, spec interpretation. |
| **Codex Cloud** | ChatGPT (optional) | Remote Recon. Analysis and handoff packets when away from iMac. |
```

**Update Governance table (lines 32-35):**

**FROM:**
```markdown
| Constitutional (specs) | Jordan → CP → Leo |
```

**TO:**
```markdown
| Constitutional (specs) | Jordan → project-architect → Leo |
```

## Definition of Done

- [ ] `docs/recons/README.md` exists
- [ ] `CLAUDE.md` shows project-architect (not CP)
- [ ] `AGENTS.md` shows project-architect (not CP)
- [ ] Governance approval chain updated
- [ ] No "CP" or "Claude (Project)" references remain

## Verification

- [ ] `grep -i "claude (project)" ~/kv-projects/vantage/*.md` returns empty
- [ ] `grep -i "claude.ai" ~/kv-projects/vantage/CLAUDE.md` returns empty (except in appropriate context)
- [ ] `ls ~/kv-projects/vantage/docs/recons/README.md` exists

---

## Execution Complete Checklist

After all four packets executed:

- [ ] PACKET-A: forge-project-template — Complete
- [ ] PACKET-B: FORGE-Method — Complete
- [ ] PACKET-C: forge-genesis-vault — Complete
- [ ] PACKET-D: Vantage — Complete

**Final verification:**

```bash
# No CP references remain
grep -r "CP (Claude Project)" ~/kv-projects/FORGE-Method --include="*.md" | grep -v archive
grep -r "Claude (Project)" ~/kv-projects/forge-project-template --include="*.md"
grep -r "Claude (Project)" ~/kv-projects/forge-genesis-vault --include="*.md"
grep -r "Claude (Project)" ~/kv-projects/vantage --include="*.md" | grep -v node_modules

# All new files exist
ls ~/kv-projects/forge-project-template/docs/recons/README.md
ls ~/kv-projects/forge-project-template/ai_prompts/templates/codex-recon-packet.template.md
ls ~/kv-projects/FORGE-Method/agents/codex-cloud-operating-guide.md
ls ~/kv-projects/forge-genesis-vault/02_spawn_system/spawn-specs/spawn-codex.md
ls ~/kv-projects/vantage/docs/recons/README.md
```

---

*Handoff Packets for Codex Cloud Integration — FORGE Method*
